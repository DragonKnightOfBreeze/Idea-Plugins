cara_execute_deal1 = {
	hidden_effect = {
		# Cost
		if = {		limit = { has_country_flag = fleet1dealcost1 }
			while = {
				count = 4
				random_owned_pop = {
					limit = { is_pop_category = specialist }
					kill_pop = yes
				}
			}
			custom_tooltip = fleet1cost1_tooltip
			remove_country_flag = fleet1dealcost1
		}

		else_if = { limit = { has_country_flag = fleet1dealcost2 }
			add_resource = { alloys = -1200 }
			tooltip = { add_resource = { alloys = -1200 } }
			remove_country_flag = fleet1dealcost2
		}

		else_if = { limit = { has_country_flag = fleet1dealcost3 }
			add_resource = { unity = -500 }
			tooltip = { add_resource = { unity = -500 } }
			remove_country_flag = fleet1dealcost3
		}

		else_if = { limit = { has_country_flag = fleet1dealcost4 }
			add_modifier = {
				modifier = 6monthsocietycost
				days = 180
			}
			tooltip = {
				add_modifier = {
					modifier = 6monthsocietycost
					days = 180
				}
			}
			remove_country_flag = fleet1dealcost4
		}

		else_if = { limit = { has_country_flag = fleet1dealcost5 }
			custom_tooltip = fleet1dealcost5_tooltip
			random_owned_ship = {
				limit = { is_ship_class = shipclass_science_ship }
				# exile science officer from ship
				# and reinstate into pool
				fleet = {
					if = {
						limit = { exists = leader }
						leader = { unassign_leader = this }
					}
					delete_fleet = this
				}
			}
			remove_country_flag = fleet1dealcost5
		}

		if = {		limit = { has_country_flag = fleet1dealcost6 }
			while = {
				count = 4
				random_owned_pop = {
					limit = {
						OR = {
							has_job = unemployed
							is_pop_category = worker
							is_pop_category = simple_drone
							is_pop_category = slave
							is_pop_category = criminal
							is_pop_category = purge
						}
					}
					weights = { #Prioritize Unemployed pops
						base = 1
						modifier = {
							mult = 100
							has_job = unemployed
						}
					}
					kill_pop = yes
				}
			}
			custom_tooltip = fleet1cost6_tooltip
			remove_country_flag = fleet1dealcost6
		}

		# Product
		if = {		limit = { has_country_flag = fleet1dealproduct1 }
			set_country_flag = bunkbeds_ready
			custom_tooltip = fleet1product1_tooltip
			remove_country_flag = fleet1dealproduct1
		}

		else_if = { limit = { has_country_flag = fleet1dealproduct2 }
			set_country_flag = tupperware_ready
			custom_tooltip = fleet1product2_tooltip
			remove_country_flag = fleet1dealproduct2
		}

		else_if = { limit = { has_country_flag = fleet1dealproduct3 }
			set_country_flag = atmospheric_deodorizer_ready
			custom_tooltip = fleet1product3_tooltip
			remove_country_flag = fleet1dealproduct3
		}

		else_if = { limit = { has_country_flag = fleet1dealproduct4 }
			add_resource = { consumer_goods = 1000 }
			tooltip = { add_resource = { consumer_goods = 1000 } }
			remove_country_flag = fleet1dealproduct4
		}

		else_if = { limit = { has_country_flag = fleet1dealproduct5 }
			add_modifier = {
				modifier = vengralian_sales_contingent
				days = 28800 # 80 years
			}
			tooltip = {
				add_modifier = {
					modifier = vengralian_sales_contingent
					days = 28800 # 80 years
				}
			}
			remove_country_flag = fleet1dealproduct5
		}
		else_if = { limit = { has_country_flag = fleet1dealproduct6 }
			add_modifier = {
				modifier = spawn_pool_stimulants
				days = 3600 # 10 years
			}
			tooltip = {
				add_modifier = {
					modifier = spawn_pool_stimulants
					days = 3600 # 10 years
				}
			}
			remove_country_flag = fleet1dealproduct6
		}

		else_if = { limit = { has_country_flag = fleet1dealproduct7 }
			add_resource = { energy = 2000 }
			tooltip = { add_resource = { energy = 2000 } }
			remove_country_flag = fleet1dealproduct7
		}
	}
}
