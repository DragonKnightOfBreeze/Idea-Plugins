production = {
	
	ai_weight = {
		weight = 0
	}

	district = {
		key = district_generator
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 8
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_mining
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 0
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	district = {
		key = district_farming
		weight = {
			weight = 1
			modifier = {
				factor = 3
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = {
				factor = 2
				free_housing < 0
			}

			modifier = {
				factor = 3
				any_owned_pop = { 
					OR = { 
						is_unemployed = yes 
						has_job = servant 
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_hydroponics_farm
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_food_processing_facility
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_food_processing_center
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = food
						value < 5
					}
				}
			}

			modifier = { # MI and Synth. Asc. don't build food unless they need it
				factor = 0
				owner = { 
					OR = {
						has_authority = auth_machine_intelligence
						has_country_flag = synthetic_empire
					}
					has_monthly_income = {
						resource = food
						value >= 0
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = volatile_motes
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 1
						}
					}
				}
			}
		}
	}

	building = {
		key = building_mineral_purification_plant
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = minerals
						value < 5
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
			modifier = {
				factor = 5
				OR = {
					num_districts = {
						type = district_hab_mining
						value >= 3
					}
					num_districts = {
						type = district_mining
						value >= 4
					}
					num_districts = {
						type = district_mining_uncapped
						value >= 4
					}
				}
			}
		}
	}

	building = {
		key = building_energy_grid
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 10
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 5
				OR = {
					num_districts = {
						type = district_hab_energy
						value >= 3
					}
					num_districts = {
						type = district_generator
						value >= 4
					}
					num_districts = {
						type = district_generator_uncapped
						value >= 4
					}
					num_districts = {
						type = district_rw_generator
						value >= 1
					}
				}
			}
		}
	}

	building = {
		key = building_energy_nexus
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 10
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					OR = {
						has_monthly_income = {
							resource = exotic_gases
							value < 1
						}
						has_monthly_income = {
							resource = energy
							value < 1
						}
					}
				}
			}
		}
	}

	building = {
		key = building_bio_reactor
		weight = {
			weight = 1
			modifier = {
				factor = 5
				owner = { 
					has_monthly_income = {
						resource = energy
						value < 10
					}

					has_monthly_income = {
						resource = food
						value > 50
					}
				}
			}

			modifier = {
				factor = 0
				owner = {
					has_monthly_income = {
						resource = food
						value < 50
					}
				}
			}

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}

			modifier = {
				factor = 0
				controller = {
					has_monthly_income = {
						resource = food
						value < 25
					}
				}
			}
		}
	}

	building = {
		key = building_mote_harvesters
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_gas_extractors
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_crystal_mines
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}

	building = {
		key = building_betharian_power_plant
		weight = {
			weight = 10

			# No one to work it anyway
			modifier = {
				factor = 0
				NOT = {
					any_owned_pop = { 
						OR = { 
							is_unemployed = yes 
							has_job = servant 
						}
					}
				}
			}
		}
	}
}
