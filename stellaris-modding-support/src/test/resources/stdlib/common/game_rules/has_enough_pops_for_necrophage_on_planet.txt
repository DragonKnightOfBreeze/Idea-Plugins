has_enough_pops_for_necrophage_on_planet = {
	owner = { has_origin = origin_necrophage }
	has_available_jobs = necro_apprentice
	if = {
		limit = {
			has_planet_flag = necrophage_alert_timer
		}
		count_owned_pop = {
			count = 0
			limit = {
				species = { species_can_be_necrophaged = yes }
			}
		}
	}
	else_if = {
		limit = { has_building = building_necrophage_elevation_chamber }
		count_owned_pop = {
			count < 3
			limit = {
				species = { species_can_be_necrophaged = yes }
			}
		}
	}
	else_if = {
		limit = {
			has_building = building_necrophage_house_of_apotheosis
		}
		count_owned_pop = {
			count < 6
			limit = {
				species = { species_can_be_necrophaged = yes }
			}
		}
	}
	else = {
		always = no
	}
}
