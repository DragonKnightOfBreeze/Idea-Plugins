<idea-plugin>
  <id>com.windea.pdx</id>
  <name>Paradox Modding Support</name>
  <category>Languages</category>

  <vendor email="dk_breeze@qq.com" url="https://github.com/DragonKnightOfBreeze">DragonKnightOfBreeze</vendor>

  <depends>com.intellij.modules.lang</depends>

  <description><![CDATA[
    <p>Support for Paradox Language.</p>
    <p>
      This plugin is still in developing,
      if you have found any bugs or problems, feel free to report them in
      project's <a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/issues">Github Issue Page</a>.
    </p>
    <p>
      Welcome to have a look at
      <a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/tree/master/paradox-language-support">this project</a> and
      <a href="https://github.com/DragonKnightOfBreeze?tab=repositories">my other projects</a>.
    </p>

    <br>

    <p>Paradox语言支持。</p>
    <p>
      这个插件仍在开发中，如果遇到BUG或问题，欢迎在
      项目的<a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/issues">Github Issue页面</a>中提出。
    </p>
    <p>
      欢迎查看
      <a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/tree/master/paradox-language-support">本项目</a>和
      <a href="https://github.com/DragonKnightOfBreeze?tab=repositories">我的其他项目</a>。
    </p>
    ]]></description>

  <change-notes><![CDATA[
    <p>
      Please see the
      <a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/blob/master/paradox-language-support/CHANGELOG.md">CHANGELOG</a>
      document written by Simple Chinese.
    </p>

    <br>

    <p>
      请查看
      <a href="https://github.com/DragonKnightOfBreeze/Idea-Plugins/blob/master/paradox-language-support/CHANGELOG.md">CHANGELOG</a>
      文档。
    </p>
    ]]></change-notes>

  <extensions defaultExtensionNs="com.intellij">
    <!--region Paradox Settings-->
    <applicationConfigurable
      id="settings.language.pdx"
      groupId="language"
      instance="com.windea.plugin.idea.pdx.settings.PdxSettingsConfigurable"/>
    <applicationService
      serviceImplementation="com.windea.plugin.idea.pdx.settings.PdxSettingsState"/>
    <!--endregion-->

    <!--suppress PluginXmlValidity -->
    <fileTypeOverrider implementation="com.windea.plugin.idea.pdx.PdxFileTypeOverrider" order="first"/>

    <!--region Paradox Localisation Language-->
    <fileType
      language="Paradox Localisation"
      name="Paradox Localisation File" fieldName="INSTANCE"
      implementationClass="com.windea.plugin.idea.pdx.localisation.PdxLocalisationFileType"/>
    <lang.parserDefinition
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.psi.PdxLocalisationParserDefinition"/>
    <stubElementTypeHolder class="com.windea.plugin.idea.pdx.localisation.psi.PdxLocalisationStubElementTypes" externalIdPrefix="pdxLocalisation."/>
    <stubIndex implementation="com.windea.plugin.idea.pdx.localisation.psi.PdxLocalisationPropertyKeyIndex"/>
    
    <lang.syntaxHighlighterFactory
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.highlighter.PdxLocalisationSyntaxHighlighterFactory"/>
    <lang.braceMatcher
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationBraceMatcher"/>
    <lang.foldingBuilder
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationFoldingBuilder"/>
    <colorSettingsPage
      implementation="com.windea.plugin.idea.pdx.localisation.highlighter.PdxLocalisationColorSettingsPage"/>
    <lang.commenter
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationCommenter"/>
    <spellchecker.support
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.PdxLocalisationSpellchecker"/>
    <lang.refactoringSupport
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.refactoring.PdxLocalisationRefactoringSupportProvider"/>
    <renameInputValidator
      implementation="com.windea.plugin.idea.pdx.localisation.refactoring.PdxLocalisationPropertyRenameInputValidator"/>
    <completion.contributor
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.codeInsight.PdxLocalisationCompletionContributor"/>
    <liveTemplateContext
      implementation="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationTemplateContext"/>
    <defaultLiveTemplates file="/liveTemplates/Paradox Localisation.xml"/>
    <breadcrumbsInfoProvider
      implementation="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationBreadCrumbsProvider"/>
    <lang.psiStructureViewFactory
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.structureView.PdxLocalisationStructureViewFactory"/>
    <lang.formatter
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.formatter.PdxLocalisationFormattingModelBuilder"/>
    <codeStyleSettingsProvider
      implementation="com.windea.plugin.idea.pdx.localisation.formatter.PdxLocalisationCodeStyleSettingsProvider"/>
    <langCodeStyleSettingsProvider
      implementation="com.windea.plugin.idea.pdx.localisation.formatter.PdxLocalisationLanguageCodeStyleSettingsProvider"/>
    <lang.quoteHandler
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationQuoteHandler"/>
    <lang.documentationProvider
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationDocumentationProvider"/>
    <elementDescriptionProvider
      implementation="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationDescriptionProvider"/>

    <lang.findUsagesProvider
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationFindUsagesProvider"/>
    <gotoDeclarationHandler
      implementation="com.windea.plugin.idea.pdx.localisation.editor.PdxLocalisationGoToDeclarationHandler"/>
    <annotator
      language="Paradox Localisation"
      implementationClass="com.windea.plugin.idea.pdx.localisation.PdxLocalisationAnnotator"/>

    <additionalTextAttributes scheme="Default" file="colorSchemes/PdxScriptDefault.xml"/>
    <additionalTextAttributes scheme="Darcula" file="colorSchemes/PdxScriptDarcula.xml"/>

    <intentionAction>
      <className>com.windea.plugin.idea.pdx.localisation.intentions.ChangeLocaleIntention</className>
      <category>Paradox localisation</category>
    </intentionAction>
    <intentionAction>
      <className>com.windea.plugin.idea.pdx.localisation.intentions.ChangeColorIntention</className>
      <category>Paradox localisation</category>
    </intentionAction>
    <intentionAction>
      <className>com.windea.plugin.idea.pdx.localisation.intentions.ChangeSerialNumberIntention</className>
      <category>Paradox localisation</category>
    </intentionAction>

    <localInspection
      language="Paradox Localisation"
      shortName="PdxLocalisationDuplicatePropertyKeys" bundle="messages.PdxBundle"
      groupKey="pdx.localisation.inspection" key="pdx.localisation.inspection.duplicatePropertyKeys"
      enabledByDefault="true" level="WARNING"
      implementationClass="com.windea.plugin.idea.pdx.localisation.inspections.DuplicatePropertyKeysInspection"/>
    <localInspection
      language="Paradox Localisation"
      shortName="PdxLocalisationInvalidFileEncoding" bundle="messages.PdxBundle"
      groupKey="pdx.localisation.inspection" key="pdx.localisation.inspection.invalidFileEncoding"
      enabledByDefault="true" level="WARNING"
      implementationClass="com.windea.plugin.idea.pdx.localisation.inspections.InvalidFileEncodingInspection"/>
    <!--endregion-->

    <!--region Paradox Script Language-->
    <fileType
      language="Paradox Script"
      name="Paradox Script File" fieldName="INSTANCE"
      implementationClass="com.windea.plugin.idea.pdx.script.PdxScriptFileType"/>
    <lang.parserDefinition
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.psi.PdxScriptParserDefinition"/>
    <stubElementTypeHolder class="com.windea.plugin.idea.pdx.script.psi.PdxScriptStubElementTypes" externalIdPrefix="pdxScript."/>
    <stubIndex implementation="com.windea.plugin.idea.pdx.script.psi.PdxScriptVariableKeyIndex"/>
    <stubIndex implementation="com.windea.plugin.idea.pdx.script.psi.PdxScriptPropertyKeyIndex"/>

    <lang.syntaxHighlighterFactory
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.highlighter.PdxScriptSyntaxHighlighterFactory"/>
    <lang.braceMatcher
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptBraceMatcher"/>
    <lang.foldingBuilder
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptFoldingBuilder"/>
    <colorSettingsPage
      implementation="com.windea.plugin.idea.pdx.script.highlighter.PdxScriptColorSettingsPage"/>
    <lang.commenter
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptCommenter"/>
    <spellchecker.support
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.PdxScriptSpellchecker"/>
    <lang.refactoringSupport
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.refactoring.PdxScriptRefactoringSupportProvider"/>
    <renameInputValidator
      implementation="com.windea.plugin.idea.pdx.script.refactoring.PdxScriptVariableRenameInputValidator"/>
    <renameInputValidator
      implementation="com.windea.plugin.idea.pdx.script.refactoring.PdxScriptPropertyRenameInputValidator"/>
    <refactoring.inlineHandler
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.refactoring.PdxScriptInlineHandler"/>
    <completion.contributor
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.codeInsight.PdxScriptCompletionContributor"/>
    <breadcrumbsInfoProvider
      implementation="com.windea.plugin.idea.pdx.script.editor.PdxScriptBreadCrumbsProvider"/>
    <colorProvider
      implementation="com.windea.plugin.idea.pdx.script.editor.PdxScriptColorProvider"/>
    <lang.psiStructureViewFactory
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.structureView.PdxScriptStructureViewFactory"/>
    <lang.formatter
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.formatter.PdxScriptFormattingModelBuilder"/>
    <codeStyleSettingsProvider
      implementation="com.windea.plugin.idea.pdx.script.formatter.PdxScriptCodeStyleSettingsProvider"/>
    <langCodeStyleSettingsProvider
      implementation="com.windea.plugin.idea.pdx.script.formatter.PdxScriptLanguageCodeStyleSettingsProvider"/>
    <lang.quoteHandler
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptQuoteHandler"/>
    <lang.documentationProvider
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptDocumentationProvider"/>
    <elementDescriptionProvider
      implementation="com.windea.plugin.idea.pdx.script.editor.PdxScriptDescriptionProvider"/>

    <lang.findUsagesProvider
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.editor.PdxScriptFindUsagesProvider"/>
    <gotoDeclarationHandler
      implementation="com.windea.plugin.idea.pdx.script.editor.PdxScriptGoToDeclarationHandler"/>
    <annotator
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.PdxScriptAnnotator"/>

    <additionalTextAttributes scheme="Default" file="colorSchemes/PdxLocalisationDefault.xml"/>
    <additionalTextAttributes scheme="Darcula" file="colorSchemes/PdxLocalisationDarcula.xml"/>

    <localInspection
      language="Paradox Script"
      shortName="PdxScriptDuplicateVariableDefinitions" bundle="messages.PdxBundle"
      groupKey="pdx.script.inspection"
      key="pdx.script.inspection.duplicateVariableDefinitions"
      enabledByDefault="true" level="WARNING"
      implementationClass="com.windea.plugin.idea.pdx.script.inspections.DuplicateVariableDefinitionsInspection"/>
    <localInspection
      language="Paradox Script"
      shortName="PdxScriptInvalidFileEncoding" bundle="messages.PdxBundle"
      groupKey="pdx.script.inspection"
      key="pdx.script.inspection.invalidFileEncoding"
      enabledByDefault="true" level="WARNING"
      implementationClass="com.windea.plugin.idea.pdx.script.inspections.InvalidFileEncodingInspection"/>
    <!--endregion-->

    <!--region Paradox Script Schema-->
    <json.jsonSchemaEnabler
      implementation="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaEnabler"/>
    <completion.contributor
      language="Paradox Script"
      implementationClass="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaCompletionContributor"/>
    <gotoDeclarationHandler
      implementation="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaGotoDeclarationHandler"/>
    <json.jsonLikePsiWalkerFactory
      implementation="com.windea.plugin.idea.pdx.script.schema.PdxScriptJsonLikePsiWalkerFactory"/>
    <!--<documentationProvider
      implementation="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaDocumentationProvider"/>-->

    <localInspection
      language="Paradox Script"
      shortName="PdxScriptSchemaValidation" bundle="messages.PdxBundle"
      groupKey="pdx.script.inspection" key="pdx.script.inspection.schemaValidation"
      enabledByDefault="true" level="ERROR"
      implementationClass="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaInspectionTool"/>
    <!--endregion-->
  </extensions>

  <extensions defaultExtensionNs="JavaScript">
    <JsonSchema.ProviderFactory
      implementation="com.windea.plugin.idea.pdx.script.schema.PdxScriptSchemaProviderFactory"/>
  </extensions>
</idea-plugin>
